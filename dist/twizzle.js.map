{"version":3,"sources":["webpack://twizzle/webpack/universalModuleDefinition","webpack://twizzle/webpack/bootstrap","webpack://twizzle/external \"twisty\"","webpack://twizzle/external \"puzzle-geometry\"","webpack://twizzle/external \"alg\"","webpack://twizzle/external \"kpuzzle\"","webpack://twizzle/./src/app.ts","webpack://twizzle/./src/index.ts"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","puzzle","movenames","grips","descinput","algoinput","lastRender","gripdepth","safeKsolve","lastval","lastalgo","scramble","renderOptions","workOptions","getCheckbox","a","document","getElementById","checked","getCheckboxes","length","focusRight","scrollLeft","scrollWidth","focus","selectionStart","selectionEnd","noticeClick","e","svg","stopPropagation","preventDefault","pt","createSVGPoint","x","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","dist","gripind","undefined","Math","hypot","gripname","shiftKey","toLowerCase","ctrlKey","metaKey","mv","mod","oldalg","external_alg_","newmv","nestedUnits","lastmv","thismv","family","outerLayer","innerLayer","newAmount","amount","newArr","slice","checkchange","domove","which","addClickMoves","onclick","oncontextmenu","trimEq","b","trim","setAlgo","str","writeback","seq","elem","querySelector","textContent","external_twisty_","alg","anim","skipToEnd","showtext","wnd","window","open","write","replace","close","gettextwriter","dowork","cmd","options","checkboxes","allmoves","push","vertexmoves","corners","edges","centers","optimize","blockmoves","killori","external_puzzle_geometry_","parsedesc","pg","allstickers","genperms","writegap","gtw","as","getOrbitsDef","reassemblySize","schreiersims","getMovesAsPerms","showcanon","writeksolve","generatesvg","alert","descarg","algo","newRender","renderSame","equalCheckboxes","savealg","ksolvetext","text","baseplanerot","stickersperface","cubies","shortedge","edgedistance","vertexdistance","el","innerHTML","ksolvemovenames","threed","svggrips","ksolve","savealgo","external_kpuzzle_","mps","movesetgeos","worker","setFaceNames","facenames","map","_","grip1","grip2","addGrip","LucasSetup","style","backgroundColor","toparse","console","log","doselection","target","setup","select","puzzledesc","getpuzzles","opt","createElement","add","onchange","commands","setInterval","addEventListener","__webpack_exports__"],"mappings":"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","file":"twizzle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"twisty\"), require(\"puzzle-geometry\"), require(\"alg\"), require(\"kpuzzle\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"twisty\", \"puzzle-geometry\", \"alg\", \"kpuzzle\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"twizzle\"] = factory(require(\"twisty\"), require(\"puzzle-geometry\"), require(\"alg\"), require(\"kpuzzle\"));\n\telse\n\t\troot[\"twizzle\"] = factory(root[\"twisty\"], root[\"puzzle-geometry\"], root[\"alg\"], root[\"kpuzzle\"]);\n})(typeof self !== \"undefined\" ? self : this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","import { Twisty } from \"twisty\"\nimport { PuzzleGeometry, SchreierSims } from \"puzzle-geometry\"\nimport { SiGNMove, Sequence, algToString, parse as algparse} from \"alg\"\nimport { KPuzzle, KPuzzleDefinition, parse } from \"kpuzzle\"\n\nvar twisty:Twisty ;\nvar puzzle:KPuzzleDefinition ;\nvar safeKsolve:string = \"\" ;\nvar movenames:Array<string> ;\nvar grips:Array<any> ;\nvar descinput:HTMLInputElement ;\nvar algoinput:HTMLInputElement ;\nvar lastval:string = \"\" ;\nvar lastalgo:string = \"\" ;\nvar scramble:boolean = false ;\nvar renderOptions = [\"threed\", \"centers\", \"edges\", \"corners\",\n                \"centers\", \"edges\", \"corners\", \"blockmoves\", \"vertexmoves\"] ;\nvar workOptions = [\"centers\", \"edges\", \"corners\", \"optimize\", \"blockmoves\",\n      \"allmoves\", \"vertexmoves\", \"killori\"] ;\nvar lastRender:any ;\nvar gripdepth:any ;\nfunction getCheckbox(a:string):boolean {\n   return (<HTMLInputElement>document.getElementById(a)).checked ;\n}\nfunction getCheckboxes(a:Array<string>):any {\n   var r:any = {} ;\n   for (var i=0; i<a.length; i++)\n      r[a[i]] = getCheckbox(a[i]) ;\n   return r ;\n}\nfunction equalCheckboxes(a:Array<string>, b:any, c:any):boolean {\n   for (var i=0; i<a.length; i++)\n      if (b[a[i]] != c[a[i]])\n         return false ;\n   return true ;\n}\nfunction focusRight() {\n   algoinput.scrollLeft = algoinput.scrollWidth ;\n   algoinput.focus() ;\n   algoinput.selectionStart = algoinput.selectionEnd = 100000000 ;\n}\nfunction domove(mv:string, mod:number) {\n   try { // try to merge this move\n      var oldalg = algparse((algoinput.value)) ;\n      var newmv = algparse((mv)) ;\n      if (oldalg instanceof Sequence && newmv instanceof Sequence &&\n          newmv.nestedUnits.length == 1 && oldalg.nestedUnits.length > 0) {\n         var lastmv = oldalg.nestedUnits[oldalg.nestedUnits.length-1] ;\n         var thismv = newmv.nestedUnits[0] ;\n         if (lastmv instanceof SiGNMove && thismv instanceof SiGNMove &&\n             lastmv.family == thismv.family &&\n             lastmv.outerLayer == thismv.outerLayer &&\n             lastmv.innerLayer == thismv.innerLayer) {\n            var newAmount = thismv.amount + lastmv.amount ;\n            var newArr = oldalg.nestedUnits.slice() ;\n            if (newAmount == 0 || (mod > 0 && newAmount % mod == 0)) {\n               newArr.length -= 1 ;\n            } else {\n               // canonicalize the representation\n               while (newAmount + newAmount > mod)\n                  newAmount -= mod ;\n               while (newAmount + newAmount <= -mod)\n                  newAmount += mod ;\n               newArr[oldalg.nestedUnits.length-1] =\n                 new SiGNMove(lastmv.outerLayer, lastmv.innerLayer,\n                              lastmv.family, newAmount) ;\n            }\n            algoinput.value = (algToString(new Sequence(newArr))) ;\n            focusRight() ;\n            checkchange() ;\n            return ;\n         }\n      }\n   } catch (e) { }\n   algoinput.value += ' ' + (mv) ;\n   focusRight() ;\n   checkchange() ;\n}\nfunction noticeClick(e:any) {\n   var svg:any = document.getElementById(\"svg\") ;\n   if (!svg || !e)\n      return false ;\n   e.stopPropagation() ;\n   e.preventDefault() ;\n   var pt = svg.createSVGPoint() ;\n   pt.x = e.clientX ;\n   pt.y = e.clientY;\n   pt = pt.matrixTransform(svg.getScreenCTM().inverse());\n   var dist = 1000000 ;\n   var gripind = undefined ;\n   for (var i=0; i<grips.length; i++) {\n      var d = Math.hypot(grips[i][0]-pt.x, grips[i][1]-pt.y) ;\n      if (d < dist) {\n         dist = d ;\n         gripind = i ;\n      }\n   }\n   if (gripind != undefined) {\n      var gripname = grips[gripind][2] ;\n      if (e.shiftKey) {\n         if (getCheckbox(\"blockmoves\"))\n            gripname = gripname.toLowerCase() ;\n         else\n            gripname = \"2\" + gripname ;\n      } else if ((e.ctrlKey || e.metaKey) && gripdepth[gripname])\n         gripname = \"\" + gripdepth[gripname] + gripname.toLowerCase() ;\n      domove(gripname + (e.which == 3 ? \"\" : \"'\"), grips[gripind][3]) ;\n   }\n   return false ;\n}\nfunction addClickMoves() {\n   var svg = document.getElementById(\"svg\") ;\n   if (svg && !svg.onclick)\n      svg.onclick = function(e){return noticeClick(e)}\n   if (svg && !svg.oncontextmenu)\n      svg.oncontextmenu = function(e){return noticeClick(e)}\n}\nfunction LucasSetup(pg:PuzzleGeometry, ksolve:string, svg:string,\n                    savealgo:boolean) {\n   safeKsolve = ksolve ; // this holds the scrambled position\n   puzzle = parse(ksolve) ;\n   var mps = pg.movesetgeos ;\n   var worker = new KPuzzle(puzzle) ;\n   worker.setFaceNames(pg.facenames.map((_:any)=>_[1])) ;\n   gripdepth = {} ;\n   for (var i=0; i<mps.length; i++) {\n      var grip1 = mps[i][0] as string ;\n      var grip2 = mps[i][2] as string ;\n      // angle compatibility hack\n      worker.addGrip(grip1, grip2, mps[i][4] as number) ;\n      gripdepth[grip1] = mps[i][4] ;\n      gripdepth[grip2] = mps[i][4] ;\n   }\n   puzzle.svg = svg ;\n   // TODO: Create the alg semantically.\n   //\n   // This requires knowing that a move like 2R generated by `puzzlegeometry`\n   // represents BareSiGNMove(\"R\", 2) rather than LayerSiGNMove(2, \"R\").\n   if (savealgo && !trimEq(lastalgo, \"\"))\n      setAlgo(lastalgo, true);\n   else\n      setAlgo(\"\", true) ;\n   addClickMoves() ;\n}\nfunction trimEq(a:string, b:string) {\n   return a.trim() == b.trim() ;\n}\nfunction setAlgo(str:string, writeback:boolean) {\n   var seq:Sequence ;\n   if (str.trim().length == 0) {\n      seq = algparse(movenames[0]+\"60\") ;\n      str = \"\" ;\n   } else {\n      seq = algparse(str) ;\n      str = algToString(seq) ;\n   }\n   var elem = document.querySelector(\"#custom-example\");\n   if (elem) {\n      elem.textContent = \"\" ;\n      twisty = new Twisty(elem, {\n        puzzle: puzzle,\n        alg: seq\n      });\n      (twisty as any).anim.skipToEnd() ;\n      if (writeback) {\n         algoinput.value = (str) ;\n         lastalgo = str ;\n      }\n   }\n}\n// this is so horrible.  there has to be a better way.\nfunction showtext(s:string) {\n   var wnd = window.open(\"\",\"_blank\");\n   if (wnd) {\n      wnd.document.open(\"text/plain\",\"replace\") ;\n      wnd.document.write(\"<pre>\") ;\n      s = s.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\") ;\n      wnd.document.write(s) ;\n      wnd.document.write(\"</pre>\") ;\n      wnd.document.close() ;\n   }\n}\nfunction gettextwriter():(s:string)=>void {\n   var wnd = window.open(\"\",\"_blank\");\n   if (wnd) {\n      wnd.document.open(\"text/plain\",\"replace\") ;\n      wnd.document.write(\"<pre>\") ;\n      return function(s:string):void {\n         s = s.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\") ;\n         if (wnd && wnd.document)\n            wnd.document.write(s + \"\\n\") ;\n      }\n   }\n   throw \"Could not open window\" ;\n}\nfunction dowork(cmd:string) {\n   if (cmd == \"scramble\") {\n      scramble = true ;\n      checkchange() ;\n      return ;\n   }\n   var options:Array<number|string|boolean> = [] ;\n   var checkboxes = getCheckboxes(workOptions) ;\n   if (checkboxes.allmoves)\n      options.push(\"allmoves\", true) ;\n   if (checkboxes.vertexmoves)\n      options.push(\"vertexmoves\", true) ;\n   if (!checkboxes.corners)\n      options.push(\"cornersets\", false) ;\n   if (!checkboxes.edges)\n      options.push(\"edgesets\", false) ;\n   if (!checkboxes.centers)\n      options.push(\"centersets\", false) ;\n   if (checkboxes.optimize)\n      options.push(\"optimize\", true) ;\n   if (checkboxes.blockmoves)\n      options.push(\"outerblockmoves\", true) ;\n   if (checkboxes.killori)\n      options.push(\"killorientation\", true) ;\n   var p = PuzzleGeometry.parsedesc(descinput.value) ;\n   var pg = new PuzzleGeometry(p[0], p[1], options) ;\n   pg.allstickers() ;\n   pg.genperms() ;\n   if (cmd == \"gap\") {\n      showtext(pg.writegap()) ;\n   } else if (cmd == \"ss\") {\n      var gtw = gettextwriter() ;\n      var os = pg.getOrbitsDef(false) ;\n      var as = os.reassemblySize() ;\n      gtw(\"Reassembly size is \" + as) ;\n      var ss = SchreierSims.schreiersims(pg.getMovesAsPerms(), gtw) ;\n      var r = as / ss ;\n      gtw(\"Ratio is \" + r) ;\n   } else if (cmd == \"canon\") {\n      pg.showcanon(gettextwriter()) ;\n   } else if (cmd == \"ksolve\") {\n      showtext(pg.writeksolve(\"TwizzlePuzzle\", false)) ;\n   } else if (cmd == \"svgcmd\") {\n      showtext(pg.generatesvg(800, 500, 10, getCheckbox(\"threed\"))) ;\n   } else {\n      alert(\"Command \" + cmd + \" not handled yet.\") ;\n   }\n}\nfunction checkchange() {\n   // for some reason we need to do this repeatedly\n   addClickMoves() ;\n   var descarg = descinput.value ;\n   if (descarg == null)\n      return ;\n   var algo = (algoinput.value) ;\n   if (algo == null)\n      return ;\n   var newRender = getCheckboxes(renderOptions) ;\n   var renderSame = equalCheckboxes(renderOptions, lastRender, newRender) ;\n   if (!scramble && trimEq(descarg, lastval) && trimEq(algo, lastalgo) && renderSame)\n      return ;\n   if (scramble || lastval != descarg || !renderSame) {\n      var savealg = trimEq(lastval, descarg) ;\n      lastval = descarg ;\n      lastRender = newRender ;\n      var p = PuzzleGeometry.parsedesc(descarg) ;\n      if (p) {\n         var options:Array<string|number|boolean> = [\"allmoves\", true] ;\n         if (!lastRender.corners)\n            options.push(\"cornersets\", false) ;\n         if (!lastRender.edges)\n            options.push(\"edgesets\", false) ;\n         if (!lastRender.centers)\n            options.push(\"centersets\", false) ;\n         if (scramble) {\n            options.push(\"scramble\", 1) ;\n            scramble = false ;\n            algo = \"\" ;\n            safeKsolve = \"\" ;\n            savealg = false ;\n         }\n         var pg = new PuzzleGeometry(p[0], p[1], options) ;\n         pg.allstickers() ;\n         pg.genperms() ;\n         var text =\n            \"Faces \" + pg.baseplanerot.length + \"<BR>\" +\n            \"Stickers per face \" + pg.stickersperface + \"<BR>\" +\n            \"Cubies \" + pg.cubies.length + \"<BR>\" +\n            \"Short edge \" + pg.shortedge + \"<BR>\" +\n            \"Edge distance \" + pg.edgedistance + \"<BR>\" +\n            \"Vertex distance \" + pg.vertexdistance + \"<BR>\" ;\n         var el = document.getElementById('data') ;\n         if (el)\n            el.innerHTML = text ;\n         var ksolvetext:string ;\n         if (renderSame && savealg && safeKsolve != \"\") {\n            ksolvetext = safeKsolve ;\n         } else {\n            ksolvetext = pg.writeksolve(\"TwizzlePuzzle\", true) ;\n            movenames = pg.ksolvemovenames ;\n         }\n         var svg = pg.generatesvg(800, 500, 10, lastRender.threed) ;\n         grips = pg.svggrips ;\n         LucasSetup(pg, ksolvetext, svg, savealg) ;\n      }\n      if (!savealg) {\n         lastalgo = \"\" ;\n         algo = (algoinput.value) ;\n      }\n   }\n   if (!trimEq(lastalgo, algo)) {\n      lastalgo = algo ;\n      algoinput.style.backgroundColor = '' ;\n      var toparse = \"\" ;\n      if (algo.trim().length > 0) {\n         toparse = algo ;\n      } else {\n         toparse = \"\" ;\n      }\n      if (puzzle) {\n         try {\n            setAlgo(toparse, false) ;\n         } catch (e) {\n console.log(\"Could not parse \" + toparse) ;\n            algoinput.style.backgroundColor = '#ff8080' ;\n            return ;\n         }\n      }\n   }\n}\nfunction doselection(el:any) {\n   if (el.target.value != '') {\n      descinput.value = el.target.value ;\n      checkchange() ;\n   }\n}\nexport function setup() {\n   var select = <HTMLSelectElement>document.getElementById('puzzleoptions') ;\n   descinput = <HTMLInputElement>document.getElementById('desc') ;\n   algoinput = <HTMLInputElement>document.getElementById('algorithm') ;\n   var puzzledesc = PuzzleGeometry.getpuzzles() ;\n   lastRender = getCheckboxes(renderOptions) ;\n   for (var i=0; i<puzzledesc.length; i += 2) {\n      var opt = <HTMLOptionElement>document.createElement(\"option\") ;\n      opt.value = puzzledesc[i] ;\n      opt.innerHTML = puzzledesc[i+1] ;\n      select.add(opt) ;\n   }\n   select.onchange = doselection ;\n   var commands = [\"ss\", \"ksolve\", \"gap\", \"canon\", \"export\", \"svgcmd\",\n                   \"scramble\"] ;\n   for (var i=0; i<commands.length; i++)\n      (<HTMLInputElement>document.getElementById(commands[i])).onclick =\n         function(cmd){return function(){dowork(cmd)}}(commands[i]) ;\n   checkchange() ;\n   setInterval(checkchange, 0.5) ;\n}\nwindow.addEventListener(\"load\", setup);\n","export {\n   setup\n} from \"./app\"\n"],"sourceRoot":""}